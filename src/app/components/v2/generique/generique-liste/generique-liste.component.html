<div class="generique-liste">
  <h2>{{ titre }}</h2>

  <div *ngIf="loading" class="loading">Chargement des données...</div>

  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

  <div *ngIf="!loading && items.length === 0" class="no-data">
    Aucun élément trouvé.
  </div>

  <table *ngIf="!loading && items.length > 0" class="table">
    <thead>
    <tr>
      <th *ngFor="let colonne of colonnes">{{ colonne.label }}</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of items">
      <td *ngFor="let colonne of colonnes">
        <ng-container *ngIf="!isFieldEmpty(getColumnValue(item, colonne)); else renseignerTemplate">
          {{ getColumnValue(item, colonne) }}
        </ng-container>
        <ng-template #renseignerTemplate>
          <button (click)="onRenseigner(item)">Renseigner</button>
        </ng-template>
      </td>
      <td>
        <button (click)="onVoirPlus(item)">Voir plus</button>
      </td>
    </tr>
    </tbody>
  </table>

  <button (click)="chargerListe()">Rafraîchir</button>
</div>
