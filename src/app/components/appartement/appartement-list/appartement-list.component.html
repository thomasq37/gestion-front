<section class="appartement-list">
  <div class="container">
    <div class="custom-card metriques">
      <div class="metriques-header">
        <h2>Statistiques</h2>
        <button (click)="toggleSelectionMode()">{{ selectionMode ? "Annuler la séléction" : "Sélectionner" }}</button>
      </div>
      <p>Valeur totale HT + Frais d'acquisition : <strong>{{ totalALAchat | number:'1.2-2' }} €</strong></p>
      <p>Valeur totale estimée des biens : <strong>{{ totalEstimations | number:'1.2-2' }} €</strong></p>
      <br>
      <p>Revenus totaux des biens : <strong>{{ totalRevenus | number:'1.2-2' }} €</strong></p>
      <p>Dépenses totales des biens : <strong>{{ totalDepenses | number:'1.2-2' }} €</strong></p>
      <p>Bénéfice net des biens : <strong>{{ totalBenefices | number:'1.2-2' }} €</strong></p>
      <br>
      <p>Taux de provision : <strong>{{ totalDepenses / totalRevenus * 100 | number:'1.2-2' }} %</strong></p>
    </div>
    <div class="custom-card">
      <ul>
        <li *ngFor="let appartement of appartementListOverview" class="appartement-item"
            [ngClass]="{'selected': appartement.selected, 'selection-active': selectionMode}">
          <div *ngIf="appartement.id !== undefined" class="appartement-info"

               (click)="selectionMode ? toggleSelection(appartement) : viewAppartement(appartement.id)">
            <div class="adresse">
              <div>
                <h3>{{ appartement.numero }} {{ appartement.adresse }}</h3>
                <p>{{ appartement.codePostal }} {{ appartement.ville }}</p>
              </div>
              <img src="./assets/img/view-more-icon.svg" alt="">
            </div>
          </div>
        </li>
      </ul>
    </div>

  </div>
</section>
